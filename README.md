<div align="center">
    <h2>üì§ IPCAM -> FTP -> Telegram <h2>
    <img src="https://github.com/Shablykinm/ipcam2ftp2telegram/blob/master/assets/ipcam2ftp2telegram.svg" width="600" height="200" alt="ftp2telegram">
    <div>FTP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ—Å—ã–ª–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ Telegram</div>
</div>

## üåü –û –ø—Ä–æ–µ–∫—Ç–µ

–≠—Ç–æ —Ñ–æ—Ä–∫ –ø—Ä–æ–µ–∫—Ç–∞ [ftp2telegram](https://github.com/schinken/ftp2telegram) —Å –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–æ–ø–∏–∫–æ–≤ –≤ –≥—Ä—É–ø–ø–µ Telegram. 

**–†–µ—à–∞–µ–º–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥–µ—à–µ–≤—ã—Ö –∫–∏—Ç–∞–π—Å–∫–∏—Ö IP-–∫–∞–º–µ—Ä –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–∏–¥–µ–æ–∫–æ–¥–µ–∫ hevc (h265, h264). 
<br></br>
**–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç**:
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã —Ç—Ä–µ–≤–æ–≥ —á–µ—Ä–µ–∑ FTP **–±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –Ω–æ—Å–∏—Ç–µ–ª—å**,
- –ø—Ä–æ–∫—Å–∏—Ä—É—è —á–µ—Ä–µ–∑ –û–ó–£ - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π Telegram'–æ–º –≤–∏–¥–µ–æ—Ñ–æ—Ä–º–∞—Ç,
- –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —á–∞—Ç\—Ç–æ–ø–∏–∫ —á–∞—Ç–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è FTP-—Å–µ—Ä–≤–µ—Ä–∞**:
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –ø–∞–º—è—Ç–∏ (–•—Ä–∞–Ω–∏—Ç—Å—è –≤ –û–ó–£, –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –Ω–æ—Å–∏—Ç–µ–ª—å, –ø—Ä–æ–¥–ª–µ–≤–∞—è —Å—Ä–æ–∫ —Å–ª—É–∂–±—ã SD-–∫–∞—Ä—Ç—ã);
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö FTP-–∫–ª–∏–µ–Ω—Ç–æ–≤;
- –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.

üì® **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram**:
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —á–∞—Ç–∞\—Ç–æ–ø–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–∞–ø–∫–∏, –≤ –∫–æ—Ç–æ—Ä—É—é –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ñ–∞–π–ª;
- –ê–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HEVC ‚Üí MP4, MKV -> MP4, MOV -> MP4;
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ jpg, jpeg, png, gif - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞–∫ —Ñ–æ—Ç–æ. –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥—Ä—É–≥–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç. (–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤ TelegramProxy);
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–µ—Ä: –≤ –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª–µ production.js –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–ø–∫–∏(–≤ –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Ñ–∞–π–ª) –∏ id —á–∞—Ç–∞ (–ï—Å–ª–∏ —ç—Ç–æ —á–∞—Ç –±–µ–∑ —Ç–æ–ø–∏–∫–∞, —Ç–æ message_thread_id: undefined). –ï—Å–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ, –æ–Ω –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —á–∞—Ç —Å folder: null.

üê≥ **–ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è Docker**

## üî® –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –ó–∞–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞–º–∏ Telegram;
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
- –î–æ—Ä–∞–±–æ—Ç–∞–Ω –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞;
- –î–æ—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ (h265, h264) -> MP4;
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞–µ–º–æ–≥–æ –≤–∏–¥–µ–æ - –¥–∞–∂–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ MP4, —Ç.–∫. –æ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –ø–æ–¥ –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## üí° –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å
1. –ö–∏—Ç–∞–π—Å–∫–∏–µ –¥–µ—à–µ–≤—ã–µ –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–¥–µ–∫–∞ h265, –ø–æ–¥–º–µ—à–∏–≤–∞—é—Ç –∞—É–¥–∏–æ —Å–∏–≥–Ω–∞–ª –≤ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫. –ü–æ—ç—Ç–æ–º—É ffmpeg –Ω–µ –≤–∏–¥–∏—Ç –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫—É.
<br></br>
–î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã –Ω—É–∂–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–±–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é —Å–±–æ—Ä–∫—É ffmpeg, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SEI —Å–æ–æ–±—â–µ–Ω–∏—è,
- –∏–ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä [ipcam26Xconvert](https://github.com/francescovannini/ipcam26Xconvert),
- –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –ø–µ—Ä–µ–¥–∞—á—É –ø–æ—Ç–æ–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –û–ó–£).
<br></br>
2. –°–æ–∑–¥–∞—Ç—å .env –¥–ª—è —Ç–æ–∫–µ–Ω–∞ –æ—Ç –±–æ—Ç–∞ –∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ ip –∞–¥—Ä–µ—Å–∞.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Telegram-–±–æ—Ç —Å —Ç–æ–∫–µ–Ω–æ–º (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather));
- ID —á–∞—Ç–∞ (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ [@myidbot](https://t.me/myidbot)).

## üõ† –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
cp config/default.js config/production.js
nano config/production.js  # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### –ó–∞–ø—É—Å–∫ –≤ docker

```bash
docker compose up --build -d
```

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
npm install
npm run start
```


